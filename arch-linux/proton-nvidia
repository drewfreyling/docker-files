# DO NOT MODIFY THIS AUTOGENERATED FILE
# Change it in m4 folder
FROM sandrokeil/archlinux-nvidia:latest
RUN echo "[multilib]" >> /etc/pacman.conf \
    && echo "Include = /etc/pacman.d/mirrorlist" >> /etc/pacman.conf \
    && pacman -Sl multilib \
    && pacman -Sy --noconfirm unzip wine winetricks wine_gecko wine-mono lib32-libpulse lib32-alsa-plugins lib32-nvidia-utils libwbclient vulkan-icd-loader lib32-vulkan-icd-loader lib32-libxml2 lib32-mpg123 lib32-lcms2 lib32-giflib lib32-libpng lib32-gnutls lib32-gst-plugins-base lib32-gst-plugins-good \
    && pacman -Scc --noconfirm
COPY arch-aur-install /usr/bin
RUN pacman -Sy --needed --noconfirm sudo patch \
    && useradd builduser -m \
    && passwd -d builduser \
    && printf 'builduser ALL=(ALL) ALL\n' | tee -a /etc/sudoers \
    && sudo -u builduser bash -c 'cd ~ && mkdir tmp && cd tmp && arch-aur-install https://aur.archlinux.org/cgit/aur.git/snapshot/proton.tar.gz' \
    && userdel -r builduser \
    && pacman -Scc --noconfirm
RUN pacman -Sy --noconfirm
ENTRYPOINT ["lsteamclient"]
